<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <title>Blog Title - Tell Don't Ask vs. State Machines</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />

    <script src="//use.typekit.net/ckw5eed.js"></script>
    <script>try{Typekit.load();}catch(e){}</script>
  </head>
  <body>
    
    <div id="main" role="main">
      <h1 id="tell-dont-ask-vs-state-machines">Tell Don't Ask vs. State Machines</h1>

<p>About two nights after I came back from RailsConf 2015 in Atlanta, I got up at least 8 times and scribbled out around 10 pages of notes on removing conditionals from Rails codebases (read: my company's codebases). This sleeplessness and these notes were a side-effect of exposure to Sandi Metz's fantastic talk <a href="https://www.youtube.com/watch?v=OMPfEXIlTVE">Nothing is Something</a>. I'd like the missed sleep back.</p>

<p>You should probably watch the talk as the rationale for this post and the post itself will probably make more sense with that context.</p>

<p>And I am aware that Sandi Metz didn't invent "Tell Don't Ask" and there have been many talks on it in the past (Jim Gay, a good friend of mine, gave <a href="https://www.youtube.com/watch?v=kXcrClJcfm8">this talk on East-Oriented Programming</a> at RubyConf 2014). However, for some reason(s) having to do with certain thoughts being more prominent in my head at the time, Metz's talk was the one that really flipped something in my head and led to sleeplessness.</p>

<h2 id="tell-dont-ask-and-some-implications">Tell Don't Ask (and some implications)</h2>

<p>"Tell Don't Ask" is the idea that Metz mentions first: the avoidance of conditionals. After all, she states that they are Type Checks, the bane of Objects. So what does avoiding conditionals (and predicate/interrogator methods) mean? Well, loosely speaking, it means we can't really ask our code questions. But code still has to make decisions, right? Being of a reflection of a business process where decisions are required, doesn't our code need to make decisions too? Yes, yes it does. So, where do the decisions go?</p>

<p>Well, I really like the idea that we shouldn't have conditionals or decisions in our code. It makes everything wonderfully simple. But as previously mentioned, it doesn't work in non-trivial applications. So what if we try to keep conditionals and decision structures out of our business logic and domain objects? Yeah, that seems doable. This might actually work.</p>

<p>One of the really interesting implications of forcing decisions out of the business logic is that, to ensure the kind of smooth sailing that decisionless code would realize, the objects involved in said code would have to have to come configured from the factory with all the decisions already made. This is how real-world manufacturing actually works; your laptop doesn't ask you whether you want a wifi card everytime you boot it up, you specify that when you order it.</p>

<p>Hang on, that actually seems like a pretty good metaphor. What if we had some kind of object manufacturing process that preconfigured an object so that it would behave exactly as expected without being questioned about a thing as it sailed smoothly along the conveyor belt that is our business logic?</p>

<p>And now we come to our Rules:</p>

<h2 id="the-rules">The Rules</h2>

<ol>
  <li>Questions <strong>may not</strong> be posed to objects inside business logic.</li>
  <li>Questions <strong>may</strong> be posed to objects at the boundaries of our application.</li>
</ol>


    </div>
    
    <aside>
      <h2>Recent Articles</h2>
      <ol>
          <li><a href="/2015/06/09/tell-don-t-ask-vs-state-machines/">Tell Don't Ask vs. State Machines</a> <span>Jun  9</span></li>
      </ol>

      <h2>Tags</h2>
      <ol>
      </ol>

      <h2>By Year</h2>
      <ol>
          <li><a href="/2015/">2015 (1)</a></li>
      </ol>
    </aside>
  </body>
</html>
